{"ast":null,"code":"var _jsxFileName = \"/Users/surajs/Coding/React/webapi/src/components/electronics/ElecAdd.js\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport React, { useEffect, useRef, useState } from 'react';\nimport Nav from '../nav/Nav';\nimport { getStorage, ref, uploadBytesResumable, getDownloadURL } from \"firebase/storage\";\nimport \"./electronics.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ElecAdd() {\n  _s();\n  const idRef = useRef();\n  const imgRef = useRef();\n  const brandRef = useRef();\n  const ratingRef = useRef();\n  const descriptionRef = useRef();\n  const [file, setFile] = useState();\n  const formHandler = e => {\n    e.preventDefault();\n    const storage = getStorage();\n\n    /** @type {any} */\n    const metadata = {\n      contentType: 'image/jpeg'\n    };\n\n    // Upload file and metadata to the object 'images/mountains.jpg'\n    const storageRef = ref(storage, 'images/' + file.name);\n    const uploadTask = uploadBytesResumable(storageRef, file, metadata);\n\n    // Listen for state changes, errors, and completion of the upload.\n    uploadTask.on('state_changed', snapshot => {\n      // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\n      const progress = snapshot.bytesTransferred / snapshot.totalBytes * 100;\n      console.log('Upload is ' + progress + '% done');\n      switch (snapshot.state) {\n        case 'paused':\n          console.log('Upload is paused');\n          break;\n        case 'running':\n          console.log('Upload is running');\n          break;\n      }\n    }, error => {\n      // A full list of error codes is available at\n      // https://firebase.google.com/docs/storage/web/handle-errors\n      switch (error.code) {\n        case 'storage/unauthorized':\n          // User doesn't have permission to access the object\n          break;\n        case 'storage/canceled':\n          // User canceled the upload\n          break;\n\n        // ...\n\n        case 'storage/unknown':\n          // Unknown error occurred, inspect error.serverResponse\n          break;\n      }\n    }, () => {\n      // Upload completed successfully, now we can get the download URL\n      getDownloadURL(uploadTask.snapshot.ref).then(downloadURL => {\n        console.log('File available at', downloadURL);\n      });\n    });\n    axios.post(\"http://localhost:8080/electronics\", {\n      id: idRef.current.value,\n      name: descriptionRef.current.value,\n      rating: ratingRef.current.value,\n      img: imgRef.current.value\n    }).then(res => {\n      console.log(res.data);\n    }).then(err => console.log(err));\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Nav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"add-wrap\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: formHandler,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          ref: idRef,\n          placeholder: \"id\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          ref: descriptionRef,\n          placeholder: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          ref: ratingRef,\n          placeholder: \"rating\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          onChange: e => setFile(e.target.files[0])\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n_s(ElecAdd, \"rczZWppqBUwpc9FTY/nBcXd+V90=\");\n_c = ElecAdd;\nvar _c;\n$RefreshReg$(_c, \"ElecAdd\");","map":{"version":3,"names":["axios","React","useEffect","useRef","useState","Nav","getStorage","ref","uploadBytesResumable","getDownloadURL","jsxDEV","_jsxDEV","Fragment","_Fragment","ElecAdd","_s","idRef","imgRef","brandRef","ratingRef","descriptionRef","file","setFile","formHandler","e","preventDefault","storage","metadata","contentType","storageRef","name","uploadTask","on","snapshot","progress","bytesTransferred","totalBytes","console","log","state","error","code","then","downloadURL","post","id","current","value","rating","img","res","data","err","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onSubmit","type","placeholder","onChange","target","files","_c","$RefreshReg$"],"sources":["/Users/surajs/Coding/React/webapi/src/components/electronics/ElecAdd.js"],"sourcesContent":["import axios from 'axios'\nimport React, { useEffect, useRef, useState } from 'react'\nimport Nav from '../nav/Nav';\nimport { getStorage, ref, uploadBytesResumable, getDownloadURL } from \"firebase/storage\";\n\n\nimport \"./electronics.css\"\n\nexport default function ElecAdd() {\n\n\n    const idRef=useRef();\n    const imgRef=useRef();\n    const brandRef=useRef();\n  \n    const ratingRef=useRef();\n\n    const descriptionRef=useRef()\n\n\n    const[file,setFile]=useState();\n    const formHandler=(e)=>{\n        e.preventDefault();\n\nconst storage = getStorage();\n\n \n/** @type {any} */\nconst metadata = {\n  contentType: 'image/jpeg'\n};\n\n// Upload file and metadata to the object 'images/mountains.jpg'\nconst storageRef = ref(storage, 'images/' + file.name);\nconst uploadTask = uploadBytesResumable(storageRef, file, metadata);\n\n// Listen for state changes, errors, and completion of the upload.\nuploadTask.on('state_changed',\n  (snapshot) => {\n    // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\n    const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n    console.log('Upload is ' + progress + '% done');\n    switch (snapshot.state) {\n      case 'paused':\n        console.log('Upload is paused');\n        break;\n      case 'running':\n        console.log('Upload is running');\n        break;\n    }\n  }, \n  (error) => {\n    // A full list of error codes is available at\n    // https://firebase.google.com/docs/storage/web/handle-errors\n    switch (error.code) {\n      case 'storage/unauthorized':\n        // User doesn't have permission to access the object\n        break;\n      case 'storage/canceled':\n        // User canceled the upload\n        break;\n\n      // ...\n\n      case 'storage/unknown':\n        // Unknown error occurred, inspect error.serverResponse\n        break;\n    }\n  }, \n  () => {\n    // Upload completed successfully, now we can get the download URL\n    getDownloadURL(uploadTask.snapshot.ref).then((downloadURL) => {\n      console.log('File available at', downloadURL);\n    });\n  }\n);\n   \n    axios.post(\"http://localhost:8080/electronics\",{\n        id:idRef.current.value,\n        name:descriptionRef.current.value,\n        rating:ratingRef.current.value,\n        img:imgRef.current.value\n        \n   }\n  )\n    .then(\n       res=>{\n       console.log(res.data)\n       }\n    ).then(err=>console.log(err))\n\n}\n\n  return (\n    <>\n        <Nav />\n\n\n    <div className='add-wrap'>\n\n                <form onSubmit={formHandler}>\n                    <input type=\"text\"   ref={idRef} placeholder=\"id\" />\n                    <input type=\"text\"  ref={descriptionRef}   placeholder=\"Name\" />\n                    <input type=\"text\"    ref={ratingRef} placeholder=\"rating\" />\n                    {/* <input type=\"text\"    ref={imgRef} placeholder=\"img\" /> */}\n                    <input type=\"file\" onChange={(e)=>setFile(e.target.files[0])} />\n\n                    <input type=\"submit\"></input>\n                </form>\n    </div>\n        \n      \n    </>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}