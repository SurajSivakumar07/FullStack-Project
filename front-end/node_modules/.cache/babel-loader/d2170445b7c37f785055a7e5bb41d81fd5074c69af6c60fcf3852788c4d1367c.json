{"ast":null,"code":"var _jsxFileName = \"/Users/surajs/Coding/React/webapi/src/components/electronics/ElectronicsUpdate.js\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { ref, uploadBytesResumable, getDownloadURL, getStorage } from \"firebase/storage\";\nimport { storage } from '../Firebase';\nimport Nav from '../nav/Nav';\nimport \"./electronics.css\";\nimport { async } from '@firebase/util';\nimport { useNavigate } from 'react-router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ElectronicsUpdate() {\n  _s();\n  const idRef = useRef();\n  const brandRef = useRef();\n  const ratingRef = useRef();\n  const descriptionRef = useRef();\n  const [file, setFile] = useState();\n  const [downlaod, setDownload] = useState();\n  const navigate = useNavigate();\n  const btnHandler = () => {\n    const storage = getStorage();\n    const metadata = {\n      contentType: 'image/jpeg'\n    };\n    const storageRef = ref(storage, 'images/' + file.name);\n    const uploadTask = uploadBytesResumable(storageRef, file, metadata);\n    uploadTask.on('state_changed', snapshot => {\n      const progress = snapshot.bytesTransferred / snapshot.totalBytes * 100;\n      console.log('Upload is ' + progress + '% done');\n      switch (snapshot.state) {\n        case 'paused':\n          console.log('Upload is paused');\n          break;\n        case 'running':\n          console.log('Upload is running');\n          break;\n      }\n    }, error => {\n      switch (error.code) {\n        case 'storage/unauthorized':\n          break;\n        case 'storage/canceled':\n          break;\n\n        // ...\n\n        case 'storage/unknown':\n          break;\n      }\n    }, () => {\n      getDownloadURL(uploadTask.snapshot.ref).then(downloadURL => {\n        setDownload(downloadURL);\n        console.log('File available at', downloadURL);\n      });\n    });\n  };\n  const formHandler = e => {\n    e.preventDefault();\n    axios.put(\"http://localhost:8080/electronics\", {\n      id: idRef.current.value,\n      name: descriptionRef.current.value,\n      brand: brandRef.current.value,\n      rating: ratingRef.current.value,\n      img: downlaod\n    }).then(res => {\n      console.log(res.data);\n    }).then(err => console.log(err));\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Nav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"add-wrap\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: formHandler,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          ref: idRef,\n          placeholder: \"id\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          ref: descriptionRef,\n          placeholder: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          ref: brandRef,\n          placeholder: \"Brand\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          ref: ratingRef,\n          placeholder: \"rating\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          onChange: e => setFile(e.target.files[0])\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: btnHandler,\n          children: \"upload\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n_s(ElectronicsUpdate, \"JSeEz24j+VI8evV9WE6Tf0xsAxg=\", false, function () {\n  return [useNavigate];\n});\n_c = ElectronicsUpdate;\nvar _c;\n$RefreshReg$(_c, \"ElectronicsUpdate\");","map":{"version":3,"names":["axios","React","useEffect","useRef","useState","ref","uploadBytesResumable","getDownloadURL","getStorage","storage","Nav","async","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","ElectronicsUpdate","_s","idRef","brandRef","ratingRef","descriptionRef","file","setFile","downlaod","setDownload","navigate","btnHandler","metadata","contentType","storageRef","name","uploadTask","on","snapshot","progress","bytesTransferred","totalBytes","console","log","state","error","code","then","downloadURL","formHandler","e","preventDefault","put","id","current","value","brand","rating","img","res","data","err","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onSubmit","type","placeholder","required","onChange","target","files","onClick","_c","$RefreshReg$"],"sources":["/Users/surajs/Coding/React/webapi/src/components/electronics/ElectronicsUpdate.js"],"sourcesContent":["import axios from 'axios'\nimport React, { useEffect, useRef, useState } from 'react'\nimport { ref, uploadBytesResumable, getDownloadURL,getStorage } from \"firebase/storage\";\n\nimport { storage } from '../Firebase';\nimport Nav from '../nav/Nav';\n\nimport \"./electronics.css\"\nimport { async } from '@firebase/util';\nimport { useNavigate } from 'react-router';\n\nexport default function ElectronicsUpdate(){\n\n\n    const idRef=useRef();\n    const brandRef=useRef();\n    const ratingRef=useRef();\n    const descriptionRef=useRef()\n  \n\n    const [file,setFile]=useState();\n    const [downlaod,setDownload]=useState();\n    const navigate=useNavigate();\n\n    const btnHandler=()=>{\n        const storage = getStorage();\n        const metadata = {\n            contentType: 'image/jpeg'\n          };\n         \n          const storageRef = ref(storage, 'images/' + file.name);\n          const uploadTask = uploadBytesResumable(storageRef, file, metadata);\n      \n          uploadTask.on('state_changed',\n            (snapshot) => {\n              \n              const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n              console.log('Upload is ' + progress + '% done');\n              switch (snapshot.state) {\n                case 'paused':\n                  console.log('Upload is paused');\n                  break;\n                case 'running':\n                  console.log('Upload is running');\n                  break;\n              }\n            }, \n            (error) => {\n              \n              switch (error.code) {\n                case 'storage/unauthorized':\n                 \n                  break;\n                case 'storage/canceled':\n                  \n                  break;\n          \n                // ...\n          \n                case 'storage/unknown':\n                   \n                  break;\n              }\n            }, \n            () => {\n              getDownloadURL(uploadTask.snapshot.ref).then((downloadURL) => {\n                 setDownload(downloadURL)\n                console.log('File available at', downloadURL);\n              });\n            }\n          );\n\n    }\n    const formHandler=(e)=>{\n\n        e.preventDefault();\n       \n    \n    axios.put(\"http://localhost:8080/electronics\",{\n        id:idRef.current.value,\n        name:descriptionRef.current.value,\n        brand:brandRef.current.value,\n        rating:ratingRef.current.value,\n        img:downlaod\n        \n   }\n  )\n    .then(\n       res=>{\n       console.log(res.data)\n     \n       }\n    ).then(err=>console.log(err))\n\n\n\n    }\n  return (\n    <>\n        <Nav />\n\n\n    <div className='add-wrap'>\n\n                <form onSubmit={formHandler}>\n                    <input type=\"text\"   ref={idRef} placeholder=\"id\"  required/>\n                    <input type=\"text\"  ref={descriptionRef}   placeholder=\"Name\" />\n                    <input type=\"text\"  ref={brandRef}   placeholder=\"Brand\" />\n\n                    <input type=\"text\"    ref={ratingRef} placeholder=\"rating\" />\n                    {/* <input type=\"text\"    ref={imgRef} placeholder=\"img\" />\n                     */}\n\n                     <input type=\"file\" onChange={(e)=>setFile(e.target.files[0])} />\n                    <button onClick={btnHandler}>upload</button>\n                    <input type=\"submit\"></input>\n                </form>\n    </div>\n        \n      \n    </>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}